# Topology

[官网-免费使用](http://topology.le5le.com/)

[Topology](https://github.com/le5le-com/topology)是一款 **开源** 的基于canvas+typescript的**绘图引擎**，可用于实现**软件架构图**、**微服务部署结构图**、**流程图**、**活动图**、**类图**、**时序图**、**SCADA**等；我们也可以按照自己的想法实现任何我们想要的图形库。

## 特性

* 开源
* 动画
* 可定制化
* 轻量（核心库 + 3图形库 也才100k左右），功能却很丰富
* 简单易用，方便集成
* 支持旋转、缩放、文字属性、边框属性、背景、连线动画等
* 优异的性能，非常流畅
* 方便的数据导入导出
* 图片保存/预览
* typescript + canvas

## 使用场景

* 微服务架构图
* 运维时部署结构拓扑图
* 流程图
* 活动图
* 时序图
* 类图等
* 思维导图/脑图
* SCADA

## 谁在使用

* 海云捷迅
* 汇客互动
* 重庆环投生态环境监测网络与工程治理有限公司
* 恒安嘉新（北京）科技股份有限公司
* 北京翌普信息科技有限公司
* 天津辰思科技
* 上海层峰

## 未来规划

加入3D功能，全面、充分的可以实现智慧城市的3D可视化、SCADA 3D效果、物联网3D装配效果、安防等3D可视化场景。

## 为什么重复造轮子

* 笔者工作中遇到比较多的微服务架构、云资源运维、部署与运维可视化方面的需求
* 开源、满足自己需求的不多
* typescript + 纯粹canvas架构的不多
* 以中间件方式可定制满足不同场景的不多
* 动画支持
* 音视频支持，满足安防、物联网（暂无3D效果）等实时监控需求
  


## 架构设计

主要由：层、节点、连线和箭头等组成。

<img src="https://static.oschina.net/uploads/img/201909/05153614_aduk.png" width="400px" >

### 层
这里的层，主要是为了提升性能的逻辑层；与类似ps里面的用户图层无关。

**离屏层** ：包含所有绘图数据，是最稳定的图层。

**选中层**：用户选中部分或全部节点/连线的高亮图层，并设置相关属性、缩放、和旋转等。

**动画层**：主要用于演示动画。

**活动层**：主要用于箭头鼠标交互事件，比如锚点和连线过程。

### 节点

是画布的主要组成部分，节点内部还可以包含图标或文字。

### 连线和箭头

连线和箭头是关联在一起的。连线两端可以选择设置或不设置箭头。

节点可以通过控制点进行整体缩放、旋转。

![](https://static.oschina.net/uploads/img/201909/05153614_10bJ.png)

连线只表示节点描点间的连线，不存在缩放、旋转。节点缩放或旋转会造成控制点的重计算。连线形状可以由线的控制点改变。

![](https://static.oschina.net/uploads/img/201909/05153614_G6x1.png)

### 绘画与属性

节点和连线各种有自身的绘画属性，同时还可以设置一个附加的自定义数据

![](https://static.oschina.net/uploads/img/201909/05153615_2Kl8.png)

## 如何贡献

如果你希望参与贡献，请[star](https://github.com/le5le-com/topology)鼓励我们

## 特别感谢

开源以来，收到过多笔微信资助，因微信支付无法回复：感谢大家的支持。特在此感谢大家，谢谢的大家的支持！

<img src="https://cdn.nlark.com/yuque/0/2020/png/179380/1584515404421-31fb07ab-7c14-4aa4-a942-834447cb89f8.png" width="200px" height="200px">